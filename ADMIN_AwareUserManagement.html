<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base target="_top">
  <?!= include ('css') ?>
  <?!= include ('javascript') ?>
  <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.5/ace.js" type="text/javascript" charset="utf-8"></script>
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@2.8.2/dist/alpine.min.js" defer></script>

  <link
    href="https://cdn.datatables.net/v/bs5/jszip-3.10.1/dt-2.0.8/b-3.0.2/b-colvis-3.0.2/b-html5-3.0.2/b-print-3.0.2/r-3.0.2/sc-2.4.3/sb-1.7.1/sp-2.3.1/datatables.min.css"
    rel="stylesheet">
  <script
    src="https://cdn.datatables.net/v/bs5/jszip-3.10.1/dt-2.0.8/b-3.0.2/b-colvis-3.0.2/b-html5-3.0.2/b-print-3.0.2/r-3.0.2/sc-2.4.3/sb-1.7.1/sp-2.3.1/datatables.min.js">
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.0.8/js/dataTables.js" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link href="https://ltschool.web.app/css/Bootstrapcolor.css" rel="stylesheet" type="text/css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>

  <!-- start: Sidebar -->
  <div class="sidebar position-fixed top-0 bottom-0 bg-white border-end d-inline-flex flex-column">
    <section class="justify-content-start mb-auto">
      <div class="d-flex align-items-center">
        <a href="<?= getUrl(); ?>"
          class="sidebar-logo text-uppercase fw-bold text-decoration-none text-indigo fs-4 mt-3 mx-4">
          <img src="https://img2.pic.in.th/pic/logo14b4f0364bc5e1b9.png" alt="ats-code-ranking-logo" >
        </a>
      </div>
      <ul class="sidebar-menu p-3 m-0 mb-0">
        <li class="sidebar-menu-item" id="active_dashboard">
          <a href="<?= getUrl(); ?>" class="text-black hover:text-black">
            <i class="ri-dashboard-line sidebar-menu-item-icon"></i>
            Dashboard
          </a>
        </li>
        <li class="sidebar-menu-divider mt-3 mb-1 text-uppercase">Custom</li>
        <li class="sidebar-menu-item has-dropdown" id="learningSystem">
          <a href="<?= getUrl(); ?>" class="text-black hover:text-black">
            <i class="ri-git-repository-line sidebar-menu-item-icon"></i>
            Learning
            <i class="ri-arrow-down-s-line sidebar-menu-item-accordion ms-auto"></i>
          </a>
          <ul class="sidebar-dropdown-menu" style="list-style-type: none;">
            <li class="sidebar-dropdown-menu-item" id="Learn_HTML">
              <a href="<?= getUrl(); ?>?page=Learn_HTML&name=Learn_HTML">
                HTML
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_CSS">
              <a href="<?= getUrl(); ?>?page=Learn_CSS&name=Learn_CSS">
                CSS
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_JavaScript">
              <a href="<?= getUrl(); ?>?page=Learn_JavaScript&name=Learn_JavaScript">
                JavaScript
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_SQL">
              <a href="<?= getUrl(); ?>?page=Learn_SQL&name=Learn_SQL">
                SQL
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_Python">
              <a href="<?= getUrl(); ?>?page=Learn_Python&name=Learn_Python">
                Python
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_PHP">
              <a href="<?= getUrl(); ?>?page=Learn_PHP&name=Learn_PHP">
                PHP
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_Bootstrap5">
              <a href="<?= getUrl(); ?>?page=Learn_Bootstrap5&name=Learn_Bootstrap5">
                Bootstrap 5
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_jQuery">
              <a href="<?= getUrl(); ?>?page=Learn_jQuery&name=Learn_jQuery">
                jQuery
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_React">
              <a href="<?= getUrl(); ?>?page=Learn_React&name=Learn_React">
                React
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_JAVA">
              <a href="<?= getUrl(); ?>?page=Learn_JAVA&name=Learn_JAVA">
                JAVA
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_CCPlus">
              <a href="<?= getUrl(); ?>?page=Learn_CCPlus&name=Learn_CCPlus">
                C, C++
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_dotNETC">
              <a href="<?= getUrl(); ?>?page=Learn_dotNETC&name=Learn_dotNETC">
                .NET C#
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_Kotlin">
              <a href="<?= getUrl(); ?>?page=Learn_Kotlin&name=Learn_Kotlin">
                Kotlin
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_PostgreSQL">
              <a href="<?= getUrl(); ?>?page=Learn_PostgreSQL&name=Learn_PostgreSQL">
                PostgreSQL
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_TypeScript">
              <a href="<?= getUrl(); ?>?page=Learn_TypeScript&name=Learn_TypeScript">
                TypeScript
              </a>
            </li>
            <li class="sidebar-dropdown-menu-item" id="Learn_XML">
              <a href="<?= getUrl(); ?>?page=Learn_XML&name=Learn_XML">
                XML
              </a>
            </li>

          </ul>
        </li>
        <li class="sidebar-menu-item" id="Quiz_main">
          <a href="<?= getUrl(); ?>?page=Quiz_main" class="text-black hover:text-black">
            <i class="ri-bug-line sidebar-menu-item-icon"></i>
            Quiz
          </a>
        </li>
        <li class="sidebar-menu-item" id="Challences_main">
          <a href="<?= getUrl(); ?>?page=Challences_main" class="text-black hover:text-black">
            <i class="ri-code-box-line sidebar-menu-item-icon"></i>
            Challenges
          </a>
        </li>
        <li class="sidebar-menu-item" id="SummaryScore_main">
          <a href="<?= getUrl(); ?>?page=SummaryScore_main" class="text-black hover:text-black">
            <i class="ri-bar-chart-box-line sidebar-menu-item-icon"></i>
            Summary Score
          </a>
        </li>

        <li class="sidebar-menu-divider mt-3 mb-1 text-uppercase">Apps</li>
        <li class="sidebar-menu-item">
          <a href="https://www.aware.co.th/th/home-page" target="_blank" class="text-black hover:text-black">
            <i class="ri-road-map-fill sidebar-menu-item-icon"></i>
            Aware Group
          </a>
        </li>
        <li class="sidebar-menu-item">
          <a href="https://atsconnect.aware.co.th/en/sign-in" target="_blank" class="text-black hover:text-black">
            <i class="ri-road-map-fill sidebar-menu-item-icon"></i>
            ATS Connect
          </a>
        </li>
        <li class="sidebar-menu-item">
          <a href="<?= getUrl(); ?>?page=ATSSupport_main" class="text-black hover:text-black">
            <i class="ri-customer-service-2-line sidebar-menu-item-icon"></i>
            ATS Code Ranking Support
          </a>
        </li>

        <div id="adminSystem">
          <li class="sidebar-menu-divider mt-3 mb-1 text-uppercase">Administrator</li>
          <li class="sidebar-menu-item" id="ADMIN_LoginLog">
            <a href="<?= getUrl(); ?>?page=ADMIN_LoginLog" class=" hover:text-black">
              <i class="ri-server-line sidebar-menu-item-icon"></i>
              Log Login
            </a>
          </li>
          <li class="sidebar-menu-item" id="ADMIN_TopicsUserSupport">
            <a href="<?= getUrl(); ?>?page=ADMIN_TopicsUserSupport" class=" hover:text-black">
              <i class="ri-sim-card-2-line sidebar-menu-item-icon"></i>
              Topics User Support
            </a>
          </li>
          <li class="sidebar-menu-item has-dropdown">
            <a href="<?= getUrl(); ?>" class="hover:text-black">
              <i class="ri-git-repository-line sidebar-menu-item-icon"></i>
              User management
              <i class="ri-arrow-down-s-line sidebar-menu-item-accordion ms-auto"></i>
            </a>
            <ul class="sidebar-dropdown-menu" style="list-style-type: none;">
              <li class="sidebar-dropdown-menu-item" id="ADMIN_AwareUserManagement">
                <a href="<?= getUrl(); ?>?page=ADMIN_AwareUserManagement">
                  Aware User
                </a>
              </li>
              <li class="sidebar-dropdown-menu-item" id="ADMIN_CandidateUserManagement">
                <a href="<?= getUrl(); ?>?page=ADMIN_CandidateUserManagement">
                  Candidate User
                </a>
              </li>

            </ul>
          </li>

        </div>
      </ul>
    </section>
    <div class="d-flex align-items-start px-3 pb-1">
      <?!= include ('version-info') ?>
    </div>
  </div>
  <!-- end: Sidebar -->

  <!-- start: Main -->
  <main class="bg-light">
    <div class="px-2 pt-2">
      <!-- start: Navbar -->
      <?!= include ('CandidateBreadcrumbController') ?>
      <a href="<?= getUrl(); ?>" id="logoutbtn" name="logoutbtn" hidden></a>
      <a href="<?= getUrl(); ?>" id="breadcrumb_sec2" name="breadcrumb_sec2" hidden></a>
      <a href="<?= getUrl(); ?>" id="breadcrumb_sec1" name="breadcrumb_sec1" hidden></a>
      <!-- end: Navbar -->

      <div class="mb-5 mt-2 mx-3">

        <div class="flex justify-end mb-3">
          <button type="button" class="bg-[#b42e34] dark:bg-gray-100 text-white dark:text-gray-800 font-bold py-2 px-6 rounded-lg mt-4 hover:bg-[#9E0A11] dark:hover:bg-gray-200 transition ease-in-out duration-300 flex items-center gap-3" onclick="handleAddUser()">
            <i class="ri-user-add-line"></i>
            Add User
          </button>
        </div>
        <table id="dataTable" class="table table-hover display table-bordered pagination" style="width:100%">
          <thead class="headers-table"></thead>
        </table>



      </div>
      <!-- start: Footer -->
      <section class="bg-[#1b1b1b] px-10 xl:px-[100px] pt-5 flex flex-col w-full">
        <div class="flex flex-row w-full justify-between items-center gap-4">
          <a href="<?= getUrl(); ?>" class="sidebar-logo text-uppercase fw-bold text-decoration-none text-indigo fs-4">
            <img src="https://img2.pic.in.th/pic/logo14b4f0364bc5e1b9.png" alt="aeroflot-logo" class="h-20 fill-white">
          </a>
        </div>
        <div class="flex flex-row items-start gap-4 text-white mt-5 ">
          <div class="flex flex-col w-1/3">
            <label class="text-xl font-bold mb-3">Learning</label>
            <a href="<?= getUrl(); ?>?page=Learn_HTML&name=Learn_HTML"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">HTML</a>
            <a href="<?= getUrl(); ?>?page=Learn_CSS&name=Learn_CSS"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">CSS</a>
            <a href="<?= getUrl(); ?>?page=Learn_JavaScript&name=Learn_JavaScript"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">JavaScript</a>
            <a href="<?= getUrl(); ?>?page=Learn_SQL&name=Learn_SQL"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">SQL</a>
            <a href="<?= getUrl(); ?>?page=Learn_Python&name=Learn_Python"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">Python</a>
            <a href="<?= getUrl(); ?>?page=Learn_PHP&name=Learn_PHP"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">PHP</a>
            <a href="<?= getUrl(); ?>?page=Learn_Bootstrap5&name=Learn_Bootstrap5"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">Bootstrap 5</a>
            <a href="<?= getUrl(); ?>?page=Learn_jQuery&name=Learn_jQuery"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">jQuery</a>
            <a href="<?= getUrl(); ?>?page=Learn_React&name=Learn_React"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">React</a>
            <a href="<?= getUrl(); ?>?page=Learn_JAVA&name=Learn_JAVA"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">JAVA</a>
            <a href="<?= getUrl(); ?>?page=Learn_CCPlus&name=Learn_CCPlus"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">C,
              C++</a>
            <a href="<?= getUrl(); ?>?page=Learn_dotNETC&name=Learn_dotNETC"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">.NET C#</a>
            <a href="<?= getUrl(); ?>?page=Learn_Kotlin&name=Learn_Kotlin"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">Kotlin</a>
            <a href="<?= getUrl(); ?>?page=Learn_PostgreSQL&name=Learn_PostgreSQL"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">PostgreSQL</a>
            <a href="<?= getUrl(); ?>?page=Learn_TypeScript&name=Learn_TypeScript"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">TypeScript</a>
            <a href="<?= getUrl(); ?>?page=Learn_XML&name=Learn_XML"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">XML</a>
          </div>
          <div class="flex flex-col w-1/3">
            <label class="text-xl font-bold mb-3">Quiz</label>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_HTML"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">HTML</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_CSS"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">CSS</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_JavaScript"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">JavaScript</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_SQL"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">SQL</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_Python"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">Python</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_PHP"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">PHP</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_Bootstrap5"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">Bootstrap 5</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_jQuery"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">jQuery</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_React"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">React</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_JAVA"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">JAVA</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_CCPlus"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">C,
              C++</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_dotNETC"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">.NET
              C#</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_Kotlin"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">Kotlin</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_PostgreSQL"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">PostgreSQL</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_TypeScript"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">TypeScript</a>
            <a href="<?= getUrl(); ?>?page=Quiz_test&name=Learn_XML"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">XML</a>
          </div>
          <div class="flex flex-col w-1/3">
            <label class="text-xl font-bold mb-3">Challenges</label>
            <a href="<?= getUrl(); ?>?page=Challences_main"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">Challenges
              Summary</a>
            <label class="text-xl font-bold mb-3 mt-5">Summary Score</label>
            <a href="<?= getUrl(); ?>?page=SummaryScore_main"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">Quiz Summary
              Score</a>
            <a href="<?= getUrl(); ?>?page=SummaryScore_main"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">Challenges
              Summary Score</a>
            <label class="text-xl font-bold mb-3 mt-5">Website</label>
            <a href="https://www.aware.co.th/th/home-page"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">Aware Corporation
              Limited</a>
            <a href="https://atsconnect.aware.co.th/en/sign-in"
              class=" font-light text-sm hover:underline hover:decoration-white hover:text-white">ATS
              Connect</a>
          </div>
        </div>
        <div class="text-center text-sm font-light text-white flex flex-row justify-center items-center my-5 gap-2">
          <a
            href="https://www.facebook.com/AwareCorporation?fref=ts"><img src="https://www.aware.co.th/wp-content/uploads/2015/12/Facebook.png"></a>
          <a
            href="https://twitter.com/awarecorp"><img src="https://www.aware.co.th/wp-content/uploads/2015/12/Twitter.png"></a>
          <a
            href="https://www.linkedin.com/company/awaregroup/"><img src="https://www.aware.co.th/wp-content/uploads/2015/12/LinkedIn.png"></a>
          <a
            href="https://www.youtube.com/channel/UCBnQIppFj5Mime0jiDGczTg"><img src="https://www.aware.co.th/wp-content/uploads/2015/12/Youtube.png"></a>
        </div>
        <div class="text-center text-sm font-light text-white mb-3">
          <label>Copyright Â© 2024 Aware Corporation Limited. All Rights Reserved.</label>
        </div>

      </section>
      <!-- end: Footer -->
      <div id="scroll-to-top">
        <button onclick="scrollToTop()" class="scroll-to-top fixed bottom-4 right-4 bg-gray-800 text-white rounded-full transition duration-300 hover:bg-gray-700 hover:text-gray-200">
        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20240227155250/up.png" class="w-10 h-10 rounded-full bg-white" alt="">
      </button>
      </div>
    </div>

    <!-- start: Modal -->
    <div class="modal fade" id="myModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="staticBackdropLabel">Add User</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <?!= include('FormAddUser_admin'); ?>
          </div>
        </div>
      </div>
    </div>
    <!-- end: Modal -->

    <?!= include('Loading'); ?>
    <?!= include('ImageProfile'); ?>
  </main>
  <!-- end: Main -->

  <script>
    window.addEventListener("load", getTableUsersDataList, true); 

    function handleAddUser(){
      $('#myModal').modal('show');
      document.getElementById('staticBackdropLabel').innerHTML = "Add Aware User";
      document.getElementById("adminFormAddUser").reset();
      document.getElementById("btnReset").style.display = "inline-flex";  
      document.getElementById("message").innerHTML = '';
    }

    function handleFormAwareAddUserSubmit(formObject){
      $('#spinnerModal').modal('show');
      $('#myModal').modal('hide');
      var formObj = {
        userID: formObject.userID.value,
        userFLName: formObject.userFLName.value,
        userEmail: formObject.userEmail.value,
        userPosition: formObject.userPosition.value,
        userStatus: formObject.userStatus.value,
        userLevelCode: formObject.userlevelCode.value,
        userPermissionAllow: formObject.userPermissionAllow.value,
        recID: formObject.recId.value.toString(),
        userType: 'AWARE',
      }

      google.script.run.withSuccessHandler(showTable).processDataForm(formObj);
    }

    function getTableUsersDataList() {
      $('#spinnerModal').modal('show');

      google.script.run.withSuccessHandler(showTable).getUsersDataList('AWARE');
    }

    function showTable(res){
      if(!res.success){
        Swal.fire({
            title: "Duplicate!",
            text: res.message,
            icon: "warning"
          });
        $('#spinnerModal').modal('hide');
      }

      const dataSet = res.data;
      const headers = res.headers.map(items =>{
        return {title:items};
      });

      $('#dataTable').DataTable({
        data: dataSet,
        columns: headers,
        columns: [
          { title: "UserID" },
          { title: "Name" }, 
          { title: "Email" },
          { title: "Position" },
          { title: "LevelCode" },
          { title: "Permission" },
          { title: "Status" },
          { title: "", "render": function (data,type){
              return '<div class="flex flex-row justify-center items-center gap-3"><button type="button" class="px-1 py-2 flex items-center bg-[#b42e34] hover:bg-[#ff232d] border rounded-full" data-toggle="modal" data-target="#myModal" value="'+ data +'" onclick="editUserData(this);"><i class="ri-file-edit-line ri-xl" style="color: #ffffff;"></i></button><button type="button" class="px-1 py-2 flex items-center bg-[#b42e34] hover:bg-[#ff232d] border rounded-full" data-toggle="modal" data-target="#myModal" value="'+ data +'" onclick="deleteUserData(this);"><i class="ri-delete-bin-5-fill ri-xl" style="color: #ffffff;"></i></button></div>';
            }
          },
        ],
        destroy:true, 
        autoWidth: true,
        pageLength: 10,
        responsive:true,     
        lengthMenu: [
          [5, 10, 25, 50, 100, -1 ],
          ['5', '10', '25', '50','100', 'All' ]
        ],
        columnDefs: [ 
          { targets: [ 0,1,2,3,4 ], className: 'dt-body-left dt-head-center' },          
        ],
        order: [[0, "asc"] ],
      });

      $('#spinnerModal').modal('hide');
    }

    function editUserData(recId){
      $('#spinnerModal').modal('show');
      var values = {
        recId: recId.value,
        userType: 'AWARE'//AWARE,CANDIDATE
      };

      google.script.run.withSuccessHandler(populateForm).getRecordById(values);
    }

    function populateForm(res) {
      $('#spinnerModal').modal('hide');
      $('#myModal').modal('show');

      document.getElementById("btnReset").style.display = "none";   
      document.getElementById('recId').value = res.data[0].recID;
      document.getElementById('userID').value = res.data[0].userID;
      document.getElementById('userFLName').value = res.data[0].userFLName;
      document.getElementById('userEmail').value = res.data[0].userEmail;
      document.getElementById('userPosition').value = res.data[0].userPosition;
      document.getElementById('userStatus').value = res.data[0].userStatus;
      document.getElementById('userlevelCode').value = res.data[0].userLevelCode;
      document.getElementById('userPermissionAllow').value = res.data[0].userPermissionAllow.toString().toUpperCase();
      document.getElementById("message").innerHTML = "<div class='alert alert-warning' role='alert'>Update Record [ID: "+res.data[0].recID+"]</div>";
    }

    function deleteUserData(recId){
      Swal.fire({
        title: 'Are you sure?',
        text: "You won't be able to revert this!",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Yes, delete it!',
        cancelButtonText: "cancel",
        cancelButtonColor: '#d33',
        confirmButtonColor: '#00529b',
      }).then((result) => {
        if (result.isConfirmed) {
          $('#spinnerModal').modal('show');
          var values = {
            recId: recId.value,
            userType: 'AWARE'//AWARE,CANDIDATE
          }

          google.script.run.withSuccessHandler(showTable).deleteUserData(values);
          
          Swal.fire({
            title: "Deleted!",
            text: "Your data has been deleted.",
            icon: "success"
          });
        }
      })
    }

  </script>

</body>

</html>